// 文档教程: https://uniapp.dcloud.net.cn/uniCloud/schema
{
	"bsonType": "object",
	"required": [],
	"permission": {
		"read": false,
		"create": false,
		"update": false,
		"delete": false
	},
	"properties": {
		"_id": {
			"description": "ID，系统自动生成"
		},
		"sericnum": {
			"bsonType": "string",
			"description": "审批单号（日期+时间戳）",
			"title": "审批单号"
		},
		"modeid": {
			"bsonType": "int",
			"defaultValue": 1,
			"description": "模块名称：1 加班 2 请假 3 出差 4 外出 5 补卡申请",
			"enum": [{
          	"text": "加班",
          	"value": 1
          }, {
          	"text": "请假",
          	"value": 2
          }, {
          	"text": "出差",
          	"value": 3
          }, {
          	"text": "外出",
          	"value": 4
          }, {
          	"text": "补卡申请",
          	"value": 5
          }
			],
			"title": "模块名称"
		},
		"title": {
			"bsonType": "string",
			"description": "标题（XX的加班申请）",
			"title": "标题"
		},
		"explain": {
			"bsonType": "string",
			"description": "事由",
			"title": "事由"
		},
		"start_time": {
			"bsonType": "date",
			"description": "开始时间",
			"title": "开始时间"
		},
		"end_time": {
			"bsonType": "date",
			"description": "结束时间",
			"title": "结束时间"
		},
		"create_date": {
			"bsonType": "timestamp",
			"description": "创建日期",
			"title": "创建日期"
		},
		"update_time": {
			"bsonType": "timestamp",
			"description": "更新时间",
			"title": "更新时间"
		},
		"totals": {
			"bsonType": "int",
			"description": "时长",
			"title": "时长"
		},
		"remarks": {
			"bsonType": "string",
			"description": "备注",
			"title": "备注"
		},
		"result": {
			"bsonType": "int",
			"defaultValue": 1,
			"description": "审批状态：1 审批中 10 已审批 20 未通过 30 待审批",
			"enum": [{
					"text": "审批中",
					"value": 1
				},
				{
					"text": "已审批",
					"value": 10
				},
				{
					"text": "未通过",
					"value": 20
				},
				{
					"text": "待审批",
					"value": 30
				}
			],
			"title": "审批状态"
		},
		"checksm": {
			"bsonType": "string",
			"description": "审核意见",
			"title": "审核意见"
		},
		"optid": {
			"bsonType": "string",
			"description": "审批人ID， 参考`uni-id-users` 表",
			"foreignKey": "uni-id-users._id",
			"defaultValue": {
				"$env": "uid"
			},
			"title": "审批人ID"
		},
		"optname": {
			"bsonType": "string",
			"description": "审批人， 参考`uni-id-users` 表",
			"foreignKey": "uni-id-users.nickname",
			"defaultValue": {
				"$env": "nickname"
			},
			"title": "审批人"
		},
		"user_id": {
			"bsonType": "string",
			"description": "申请人ID， 参考`uni-id-users` 表",
			"foreignKey": "uni-id-users._id",
			"defaultValue": {
				"$env": "uid"
			}
		},
		"username": {
			"bsonType": "string",
			"description": "申请人， 参考`uni-id-users` 表",
			"foreignKey": "uni-id-users.nickname",
			"defaultValue": {
				"$env": "nickname"
			}
		},
		"department_id": {
			"bsonType": "array",
			"description": "部门ID",
			"enum": {
				"collection": "opendb-department",
				"field": "_id as value, name as text",
				"orderby": "name asc"
			},
			"enumType": "tree",
			"title": "部门"
		}
	}
}
